<nz-header class="header">
  <div class="align-child-space-evenly h-50px">
    <!-- <span class="trigger" (click)="onCollapse()">
        <i class="fa-solid fa-bars fa-lg"></i>
      </span> -->
    <div>
      <h1 class="text-center">Tech Shop</h1>
    </div>
    <div class="d-flex">
      <ul nz-menu nzMode="horizontal">
        <li nz-menu-item><a href="">IPhone</a></li>
        <li nz-menu-item><a href="">IPad</a></li>
        <li nz-menu-item><a href="">Mac</a></li>
        <li nz-menu-item><a href="">Watch</a></li>
        <li nz-menu-item><a href="">Sound</a></li>
        <li nz-menu-item><a href="">Accessories</a></li>
        <li nz-menu-item><a href="">Service</a></li>
        <li nz-menu-item><a href="">Promotion</a></li>
      </ul>
    </div>

    <div class="d-flex">
      <span
        ><app-button-icon
          toolTipTitle="Theme"
          iconClass="fa-solid fa-moon fa-lg "
          placement="bottom"
        ></app-button-icon
      ></span>

      <span
        ><app-button-icon
          toolTipTitle="Cart"
          iconClass="fa-solid fa-cart-shopping"
          placement="bottom"
        ></app-button-icon
      ></span>

      <span class="mr-2"
        ><app-button-icon
          toolTipTitle=""
          iconClass="fa-solid fa-user fa-lg "
          placement="bottom"
          nz-dropdown
          [nzDropdownMenu]="menu"
          nzPlacement="bottomRight"
          nzTrigger="click"
        ></app-button-icon
      ></span>

      <nz-dropdown-menu #menu="nzDropdownMenu">
        <div class="d-flex align-center">
          <ul nz-menu>
            <!-- <li nz-menu-item>
              <nz-avatar [nzSize]="30" class="mb-2"></nz-avatar>

              <span>{{ customer.firstName }} {{ customer.lastName }}</span>
            </li> -->
            <!-- <nz-divider class="m-0"></nz-divider> -->
            <!-- <li nz-menu-item>Log out</li> -->
            <li nz-menu-item (click)="signIn()">Sign In</li>
            <li nz-menu-item (click)="signUp()">Sign Up</li>
          </ul>
        </div>
      </nz-dropdown-menu>
    </div>
    <!-- Sign In Modal -->
    <nz-modal
      [(nzVisible)]="isVisibleSignIn"
      nzTitle="Sign In"
      (nzOnCancel)="handleCancel()"
    >
      <ng-container *nzModalContent>
        <form nz-form [formGroup]="signInForm">

          <nz-form-item>
            <nz-form-label [nzSpan]="24" nzFor="username" nzRequired>
              <span>Username</span>
            </nz-form-label>
            <nz-form-control [nzSpan]="24" nzErrorTip="Username is required">
              <input
                nz-input
                name="username"
                type="text"
                id="username"
                formControlName="username"
                placeholder="Input username"
              />
            </nz-form-control>
          </nz-form-item>

          <nz-form-item>
            <nz-form-label [nzSpan]="24" nzFor="password" nzRequired>
              <span>Password</span>
            </nz-form-label>
            <nz-form-control [nzSpan]="24" nzErrorTip="Password is required">
              <input
                nz-input
                name="password"
                type="password"
                id="password"
                formControlName="password"
                placeholder="Input password"
              />
            </nz-form-control>
          </nz-form-item>

        </form>
      </ng-container>

      <div *nzModalFooter="">
        <div nz-row>
          <div class="float-right ml-2">
            <button
              nz-button
              nzType="primary"
              (click)="submitSignInForm()">
              Sign In
            </button>
          </div>
        </div>
      </div>
    </nz-modal>

    <!-- Sign Up Modal -->
    <nz-modal
      [(nzVisible)]="isVisibleSignUp"
      nzTitle="Sign Up"
      (nzOnCancel)="handleCancel()"
      [nzWidth]="700"
    >
      <ng-container *nzModalContent>
        <form nz-form [formGroup]="signUpForm">
          <div nz-row>
            <div nz-col nzSpan="12" class="pr-1">
              <nz-form-item>
                <nz-form-label [nzSpan]="24" nzFor="firstName" nzRequired>
                  First Name
                </nz-form-label>
                <nz-form-control [nzSpan]="24" nzErrorTip="Please input your first name!">
                  <input nz-input name="firstName" type="text" id="firstName" formControlName="firstName" placeholder="First name" />
                </nz-form-control>
              </nz-form-item>
            </div>

            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label [nzSpan]="24" nzFor="lastName" nzRequired>
                  Last Name
                </nz-form-label>
                <nz-form-control [nzSpan]="24" nzErrorTip="Please input your last name!">
                  <input nz-input name="lastName" type="text" id="lastName" formControlName="lastName" placeholder="Last name" />
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>

          <nz-form-item>
            <nz-form-label [nzSpan]="24" nzFor="username" nzRequired>
              <span>Username</span>
            </nz-form-label>
            <nz-form-control [nzSpan]="24" [nzErrorTip]="errorCodeUsername">
              <ng-template #errorCodeUsername let-control>
                <div
                  *ngIf="
                    signUpForm.controls['username'].invalid &&
                    (signUpForm.controls['username'].dirty || signUpForm.controls['username'].touched)
                  "
                >
                  <span *ngIf="signUpForm.get('username')?.hasError('required')">Username required</span>
                  <span *ngIf="signUpForm.get('username')?.hasError('usernameDuplicated')">Username existed</span>
                </div>
              </ng-template>
              <input nz-input name="username" type="text" id="username" formControlName="username" placeholder="Input username" />
            </nz-form-control>
          </nz-form-item>

          <div nz-row>
            <div nz-col nzSpan="12" class="pr-1">
              <nz-form-item>
                <nz-form-label [nzSpan]="24" nzRequired nzFor="address">
                  <span>Address</span>
                </nz-form-label>
                <nz-form-control [nzSpan]="24" nzErrorTip="Please input your address!">
                  <input nz-input id="address" formControlName="address" placeholder="Address" />
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label [nzSpan]="24" nzRequired nzFor="idNumber">
                  <span>Id Number</span>
                </nz-form-label>
                <nz-form-control [nzSpan]="24" nzErrorTip="Please input your id number!">
                  <input nz-input id="idNumber" formControlName="idNumber" placeholder="Id Number" maxlength="12" />
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>


          <div nz-row>
            <div nz-col nzSpan="12" class="pr-1">
              <nz-form-item>
                <nz-form-label [nzSpan]="24" nzRequired>E-mail</nz-form-label>
                <nz-form-control nzErrorTip="Email has been used or invalid">
                  <input type="text" nz-input formControlName="email" placeholder="Email" />
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label [nzSpan]="24" nzFor="phone" nzRequired>Phone</nz-form-label>
                <nz-form-control nzErrorTip="Please input your phone number!">
                  <input formControlName="phone" id="'phone'" nz-input placeholder="Phone" maxlength="11" />
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>

          <div nz-row>
            <div nz-col nzSpan="12" class="pr-1">
              <nz-form-item>
                <nz-form-label nzAlign="start" [nzSpan]="24" nzFor="birthday" nzRequired>Birthday</nz-form-label>
                <nz-form-control nzErrorTip="Please input your birthday!">
                  <nz-date-picker class="w-100" formControlName="birthday"></nz-date-picker>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label nzAlign="start" [nzSpan]="24" nzFor="gender" nzRequired>Gender</nz-form-label>
                <nz-radio-group formControlName="gender" nzButtonStyle="solid" class="mb-3">
                  <label nz-radio-button [nzValue]="1 | number">Male</label>
                  <label nz-radio-button [nzValue]="0 | number">Female</label>
                </nz-radio-group>
              </nz-form-item>
            </div>
          </div>
          <div nz-row>
            <div nz-col nzSpan="12" class="pr-1">
              <nz-form-item>
                <nz-form-label [nzSpan]="24" nzFor="password" nzRequired>Password</nz-form-label>
                <nz-form-control [nzSpan]="24" nzErrorTip="Please input your password!">
                  <input nz-input type="password" formControlName="password" placeholder="Password" (ngModelChange)="updateConfirmValidator()" />
                </nz-form-control>
              </nz-form-item>
            </div>
            <div nz-col nzSpan="12">
              <nz-form-item>
                <nz-form-label [nzSpan]="24" nzFor="checkPassword" nzRequired>Confirm Password</nz-form-label>
                <nz-form-control [nzSpan]="24" [nzErrorTip]="errorTpl">
                  <input nz-input type="password" formControlName="checkPassword" id="checkPassword" placeholder="Confirm Password" />
                  <ng-template #errorTpl let-control>
                    <ng-container *ngIf="control.hasError('required')">Please confirm your password!</ng-container>
                    <ng-container *ngIf="control.hasError('confirm')">
                      Two passwords that you enter is inconsistent!
                    </ng-container>
                  </ng-template>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>


        </form>
      </ng-container>

      <div *nzModalFooter="">
        <div nz-row>
          <div class="float-right ml-2">
            <button
              nz-button
              nzType="primary"
              (click)="submitSignUpForm()">
              Sign Up
            </button>
          </div>
        </div>
      </div>
    </nz-modal>

  </div>
</nz-header>
